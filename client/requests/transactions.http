# Arquivo de requests para transações
# 
# Este arquivo contém todas as rotas de transações da API Moneyly
# Inclui: CRUD de transações, resumos e filtros

@baseUrl = http://localhost:5000
@authToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIzMGE2YjIwYy1kYzcwLTRlMmMtOGZhOS1lZjRjMjZkYjBlYzQiLCJpYXQiOjE3NTUwOTI2MjcsImV4cCI6MTc1NTY5NzQyN30.WyH8Q8uA33zdtZ6N-RWaLubjkZtH_Gdtg4Xwyaey7RM
@contentType = application/json
@categoryId = 88e86429-d431-4b5a-84ad-487be3c46efb
@transactionId = 123e4567-e89b-12d3-a456-426614174002

### ========================================
### CRUD DE TRANSAÇÕES
### ========================================

### Criar nova transação
# @name createTransaction
POST {{baseUrl}}/transactions/create
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "type": "expense",
  "title": "Compras do mês",
  "amount": 150.50,
  "category": "{{categoryId}}",
  "description": "Compras de supermercado",
  "date": "2024-08-12"
}

### Buscar transações com filtros
# @name getTransactions
POST {{baseUrl}}/transactions
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "page": 1,
  "limit": 10,
  "category": "{{categoryId}}",
  "startDate": "2024-01-01",
  "endDate": "2024-01-31"
}

### Atualizar transação
# @name updateTransaction
PUT {{baseUrl}}/transactions/{{transactionId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "title": "Compras atualizadas",
  "amount": 180.00,
  "description": "Compras de supermercado atualizadas"
}

### Deletar transação
# @name deleteTransaction
DELETE {{baseUrl}}/transactions/{{transactionId}}
Authorization: Bearer {{authToken}}

### ========================================
### RESUMOS E ESTATÍSTICAS
### ========================================

### Resumo geral de transações
# @name getTransactionSummary
GET {{baseUrl}}/transactions/summary
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

### Resumo mensal de transações
# @name getMonthlySummary
GET {{baseUrl}}/transactions/summary-by-month
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

### Resumo do período financeiro atual
# @name getCurrentPeriodSummary
GET {{baseUrl}}/transactions/summary-current-period
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

### ========================================
### EXEMPLOS DE USO
### ========================================

### Exemplo: Criar transação de receita
POST {{baseUrl}}/transactions/create
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "type": "income",
  "title": "Salário",
  "amount": 5000,
  "category": "{{categoryId}}",
  "description": "Salário do mês",
  "date": "2024-01-05"
}

### Exemplo: Buscar transações de uma categoria específica
POST {{baseUrl}}/transactions
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "page": 1,
  "limit": 20,
  "category": "{{categoryId}}"
}

### Exemplo: Buscar transações de um período específico
POST {{baseUrl}}/transactions
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "page": 1,
  "limit": 50,
  "startDate": "2024-01-01",
  "endDate": "2024-01-31"
}

### Exemplo: Atualizar apenas o valor de uma transação
PUT {{baseUrl}}/transactions/{{transactionId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "amount": 200.00
}

### ========================================
### NOTAS IMPORTANTES
### ========================================

# 1. Todas as rotas requerem autenticação (token JWT)
# 2. O sistema cria automaticamente períodos financeiros quando necessário
# 3. Tipos de transação: "income" (receita) ou "expense" (despesa)
# 4. Valores devem ser positivos
# 5. Categoria deve ser um UUID válido
# 6. Data não pode ser no futuro
# 7. periodId é opcional (sistema calcula automaticamente)
# 8. Filtros disponíveis: categoria, data início, data fim
# 9. Paginação: página (1+) e limite (1-100)
# 10. Resumos incluem totais, médias e estatísticas por categoria
