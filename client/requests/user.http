# Arquivo de requests para usuários
# 
# Este arquivo contém todas as rotas de usuário da API Moneyly
# Inclui: perfil, configurações financeiras, períodos financeiros

### ========================================
### PERFIL DO USUÁRIO
### ========================================

@baseUrl = http://localhost:5000
@authToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIzMGE2YjIwYy1kYzcwLTRlMmMtOGZhOS1lZjRjMjZkYjBlYzQiLCJpYXQiOjE3NTUwOTI2MjcsImV4cCI6MTc1NTY5NzQyN30.WyH8Q8uA33zdtZ6N-RWaLubjkZtH_Gdtg4Xwyaey7RM
@contentType = application/json
@periodId = 2024-07-05T00:00:00.000Z_2024-08-05T00:00:00.000Z


### Buscar dados do usuário logado
# @name getMe
GET {{baseUrl}}/user/me
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

### ========================================
### CONFIGURAÇÕES FINANCEIRAS
### ========================================

### Atualizar rendimento mensal
# @name updateIncome
PUT {{baseUrl}}/user/income
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "monthlyIncome": 5000
}

### Atualizar período financeiro
# @name updateFinancialPeriod
PUT {{baseUrl}}/user/financial-period
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "financialDayStart": 5,
  "financialDayEnd": 5
}

### Atualizar rendimento e período financeiro juntos
# @name updateIncomeAndPeriod
PUT {{baseUrl}}/user/income-and-period
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "monthlyIncome": 5000,
  "financialDayStart": 5,
  "financialDayEnd": 5
}

### ========================================
### PERÍODOS FINANCEIROS
### ========================================

### Listar períodos financeiros do usuário
# @name getFinancialPeriods
GET {{baseUrl}}/user/financial-periods
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

### Buscar período financeiro específico por ID
# @name getFinancialPeriodById
GET {{baseUrl}}/user/financial-periods/{{periodId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

### ========================================
### EXEMPLOS DE USO
### ========================================

### Exemplo: Atualizar apenas o rendimento
PUT {{baseUrl}}/user/income
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "monthlyIncome": 7500
}

### Exemplo: Configurar período financeiro (5 a 5)
PUT {{baseUrl}}/user/financial-period
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "financialDayStart": 5,
  "financialDayEnd": 5
}

### Exemplo: Configurar período que cruza meses (15 a 14)
PUT {{baseUrl}}/user/financial-period
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "financialDayStart": 15,
  "financialDayEnd": 14
}

### ========================================
### NOTAS IMPORTANTES
### ========================================

# 1. Todas as rotas requerem autenticação (token JWT)
# 2. Rendimento mensal deve ser positivo e menor que 999.999.999
# 3. Dias do período financeiro devem estar entre 1 e 31
# 4. Períodos válidos incluem:
#    - Um dia: 5 a 5
#    - Dentro do mês: 1 a 31
#    - Cruzando meses: 15 a 14 (15º dia a 14º do próximo mês)
# 5. O sistema cria automaticamente períodos financeiros quando necessário
# 6. Após login/sign-up bem-sucedido, você recebe:
#    - accessToken: Token de curta duração (15 minutos) - use no header Authorization: Bearer {{accessToken}}
#    - refreshToken: Token de longa duração (7 dias) - use para renovar o access token
# 7. Use o accessToken retornado pelo login em todas as requisições 