# Arquivo de requests para objetivos de poupança
# 
# Este arquivo contém todas as rotas de objetivos da API Moneyly
# Inclui: CRUD de objetivos e adição de valores

### ========================================
### CRUD DE OBJETIVOS DE POUPANÇA
### ========================================

### Criar novo objetivo de poupança
# @name createGoal
@baseUrl = {{baseUrl}}
@authToken = {{authToken}}
@contentType = {{contentType}}
@goalId = {{goalId}}

POST {{baseUrl}}/goals
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "title": "Viagem para Europa",
  "description": "Economizar para uma viagem de 15 dias pela Europa",
  "targetAmount": 15000.00,
  "targetDate": "2025-06-01T00:00:00.000Z"
}

### Listar objetivos do usuário
# @name getUserGoals
GET {{baseUrl}}/goals
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

### Buscar objetivo específico por ID
# @name getGoalById
GET {{baseUrl}}/goals/{{goalId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

### Atualizar objetivo de poupança
# @name updateSavingsGoal
PUT {{baseUrl}}/goals/{{goalId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "title": "Viagem para Europa Atualizada",
  "description": "Economizar para uma viagem de 20 dias pela Europa",
  "targetAmount": 18000.00,
  "targetDate": "2025-08-01T00:00:00.000Z"
}

### Adicionar valor ao objetivo
# @name addAmountToGoal
POST {{baseUrl}}/goals/{{goalId}}/add-amount
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "amount": 500.00
}

### Deletar objetivo de poupança
# @name deleteSavingsGoal
DELETE {{baseUrl}}/goals/{{goalId}}
Authorization: Bearer {{authToken}}

### ========================================
### EXEMPLOS DE USO
### ========================================

### Exemplo: Criar objetivo para compra de carro
POST {{baseUrl}}/goals
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "title": "Compra de Carro",
  "description": "Economizar para dar entrada em um carro",
  "targetAmount": 25000.00,
  "targetDate": "2026-01-01T00:00:00.000Z"
}

### Exemplo: Criar objetivo para reserva de emergência
POST {{baseUrl}}/goals
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "title": "Reserva de Emergência",
  "description": "Criar uma reserva de 6 meses de despesas",
  "targetAmount": 18000.00,
  "targetDate": "2024-12-01T00:00:00.000Z"
}

### Exemplo: Criar objetivo para faculdade
POST {{baseUrl}}/goals
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "title": "Faculdade",
  "description": "Economizar para pagar a faculdade",
  "targetAmount": 30000.00,
  "targetDate": "2027-02-01T00:00:00.000Z"
}

### Exemplo: Atualizar apenas o valor alvo
PUT {{baseUrl}}/goals/{{goalId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "targetAmount": 20000.00
}

### Exemplo: Atualizar apenas a data alvo
PUT {{baseUrl}}/goals/{{goalId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "targetDate": "2025-12-01T00:00:00.000Z"
}

### Exemplo: Adicionar valor parcial ao objetivo
POST {{baseUrl}}/goals/{{goalId}}/add-amount
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "amount": 1000.00
}

### Exemplo: Adicionar valor pequeno ao objetivo
POST {{baseUrl}}/goals/{{goalId}}/add-amount
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "amount": 50.00
}

### ========================================
### NOTAS IMPORTANTES
### ========================================

# 1. Todas as rotas requerem autenticação (token JWT)
# 2. O sistema cria automaticamente períodos financeiros quando necessário
# 3. Título do objetivo é obrigatório
# 4. Valor alvo deve ser positivo
# 5. Data alvo deve ser uma data válida (formato ISO)
# 6. Valores adicionados devem ser positivos
# 7. Sistema calcula automaticamente o progresso (currentAmount vs targetAmount)
# 8. Objetivos podem ser marcados como ativos/inativos
# 9. Use o token retornado pelo login em todas as requisições
# 10. Objetivos são vinculados ao usuário logado 