# Arquivo de requests para orçamentos
# 
# Este arquivo contém todas as rotas de orçamentos da API Moneyly
# Inclui: CRUD de orçamentos por categoria

### ========================================
### CRUD DE ORÇAMENTOS POR CATEGORIA
### ========================================

### Criar orçamento para uma categoria
# @name createCategoryBudget
@baseUrl = {{baseUrl}}
@authToken = {{authToken}}
@contentType = {{contentType}}
@categoryId = {{categoryId}}
@budgetId = {{budgetId}}

POST {{baseUrl}}/budgets
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "categoryId": "{{categoryId}}",
  "monthlyLimit": 500.00
}

### Listar orçamentos do usuário
# @name getUserBudgets
GET {{baseUrl}}/budgets
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

### Atualizar orçamento de uma categoria
# @name updateCategoryBudget
PUT {{baseUrl}}/budgets/{{budgetId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "monthlyLimit": 600.00
}

### Deletar orçamento de uma categoria
# @name deleteCategoryBudget
DELETE {{baseUrl}}/budgets/{{budgetId}}
Authorization: Bearer {{authToken}}

### ========================================
### EXEMPLOS DE USO
### ========================================

### Exemplo: Criar orçamento para supermercado
POST {{baseUrl}}/budgets
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "categoryId": "{{categoryId}}",
  "monthlyLimit": 800.00
}

### Exemplo: Criar orçamento para transporte
POST {{baseUrl}}/budgets
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "categoryId": "{{categoryId}}",
  "monthlyLimit": 300.00
}

### Exemplo: Criar orçamento para lazer
POST {{baseUrl}}/budgets
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "categoryId": "{{categoryId}}",
  "monthlyLimit": 200.00
}

### Exemplo: Criar orçamento para saúde
POST {{baseUrl}}/budgets
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "categoryId": "{{categoryId}}",
  "monthlyLimit": 400.00
}

### Exemplo: Atualizar limite do orçamento de supermercado
PUT {{baseUrl}}/budgets/{{budgetId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "monthlyLimit": 1000.00
}

### Exemplo: Atualizar limite do orçamento de transporte
PUT {{baseUrl}}/budgets/{{budgetId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "monthlyLimit": 350.00
}

### ========================================
### NOTAS IMPORTANTES
### ========================================

# 1. Todas as rotas requerem autenticação (accessToken no header Authorization: Bearer {{accessToken}})
# 2. O sistema cria automaticamente períodos financeiros quando necessário
# 3. Orçamentos são vinculados a categorias específicas
# 4. Limite mensal deve ser positivo
# 5. categoryId deve ser um UUID válido de uma categoria existente
# 6. Orçamentos são criados para o período financeiro atual
# 7. Sistema calcula automaticamente o período baseado na configuração do usuário
# 8. Após login/sign-up bem-sucedido, você recebe:
#    - accessToken: Token de curta duração (15 minutos) - use no header Authorization
#    - refreshToken: Token de longa duração (7 dias) - use para renovar o access token
# 9. Quando o accessToken expirar, use POST /auth/refresh com o refreshToken
# 10. Use o accessToken retornado pelo login em todas as requisições
# 11. Orçamentos podem ser atualizados a qualquer momento
# 12. Deletar um orçamento remove o limite, mas mantém as transações 